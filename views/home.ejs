<!doctype html>
<html lang="en">
<head>
	<style>
		body{
			font-family: Tahoma, "Trebuchet MS", sans-serif;
		}
		
		table, th, td {
			border: 1px solid black;
			border-collapse: collapse;
		}
	</style>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Home page</title>
</head>
<body>
	<h1>URL Shortener</h1>
	<% if(locals.id){ %>
		<p>URL generated: <a href="server.dev.com:3000/url/<%= id %>">server.dev.com:3000/url/<%= id %></a></p>
	<% } %>
	<div>
		<form method="post" action="/url">
			<label>Enter original URL</label>
			<input type="text" name="url" placeholder="https://example.com" />
			<button type="submit">Generate</button>
		</form>
	</div>
	<br>
	<div>
		<% if(locals.urls){ %>
			<table>
				<thead>
					<th>S. No</th>
					<th>ShortID</th>
					<th>Redirect</th>
					<th>Clicks</th>
				</thead>
				<tbody>
					<% urls.forEach((url, index) => { %>
						<tr>
							<td><%= index + 1 %></td>
							<td><%= url.shortId %></td>
							<td><%= url.redirectURL %></td>
							<td><%= url.visitHistory.length %></td>
						</tr>
					<% }) %>
				</tbody>
			</table>
		<% } %>
	</div>
</body>
</html>